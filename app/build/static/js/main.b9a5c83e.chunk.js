(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,c,t){},104:function(e,c,t){},155:function(e,c){},157:function(e,c){},165:function(e,c,t){},166:function(e,c,t){},168:function(e,c,t){},169:function(e,c,t){},170:function(e,c,t){},171:function(e,c,t){},172:function(e,c,t){},173:function(e,c,t){"use strict";t.r(c);var n=t(0),s=t(1),a=t.n(s),i=t(78),r=t.n(i),o=(t(89),t(24)),l=t(5),j=(t(90),t(4)),d=t(3),b=t(79),u=t.n(b),m=(t(103),t(104),function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"logo",children:[Object(n.jsx)("img",{style:{paddingLeft:43},src:"https://drkrutikshah.online/academylogo.png"}),Object(n.jsx)("span",{className:"help-text",children:"Webinar"})]}),Object(n.jsxs)("div",{className:"action-btn",style:{opacity:0},children:[Object(n.jsx)(j.a,{className:"icon-block",icon:d.m}),Object(n.jsx)(j.a,{className:"icon-block",icon:d.g}),Object(n.jsx)(j.a,{className:"icon-block",icon:d.c})]})]})}),h=function(){var e=Object(l.f)();return Object(n.jsxs)("div",{className:"home-page",children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"body",children:[Object(n.jsxs)("div",{className:"left-side",style:{marginTop:-92},children:[Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("h2",{children:"Homeopathy video meetings. Now available for everyone."}),Object(n.jsx)("p",{children:"We re-engineered the service we built for secure Homeopathy meetings make it free and available for all."}),Object(n.jsxs)("div",{style:{marginTop:-4},className:"action-btn",children:[Object(n.jsxs)("button",{className:"btn",style:{backgroundColor:"orangered",color:"#fff"},onClick:function(){var c=u.a.generate();e.push("/".concat(c,"#init"))},children:[Object(n.jsx)(j.a,{className:"icon-block",icon:d.s}),"New Meeting"]}),Object(n.jsxs)("div",{style:{opacity:0},className:"input-block",children:[Object(n.jsxs)("div",{className:"input-section",children:[Object(n.jsx)(j.a,{className:"icon-block",icon:d.h}),Object(n.jsx)("input",{placeholder:"Enter a code or link"})]}),Object(n.jsx)("button",{className:"btn no-bg",children:"Join"})]})]})]}),Object(n.jsxs)("div",{className:"help-text",children:[Object(n.jsx)("a",{style:{color:"orangered"},href:"https://drkrutkishah.online",children:"Learn more"})," SHAH Webinar"]})]}),Object(n.jsx)("div",{className:"right-side",style:{marginTop:-92},children:Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("img",{src:"/homepage.jpg"})})})]})]})},O=t(43),x=t(6),p=t.n(x),f=t(18),g=t(9),v=t(29),N=t.n(v),k=function(){var e=Object(f.a)(p.a.mark((function e(c){var t,n,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,N.a.post(c,t).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(c){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(c).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}(),w=" http://127.0.0.1:4000",S=t(81),M=t.n(S),T=t(82),C=t.n(T),A=(t(165),t(166),t(83)),I=t.n(A),P=function(e){return I()(e).format("h:mm A")},D=function(e){var c=e.setIsMessenger,t=e.sendMsg,a=e.messageList,i=Object(s.useState)(""),r=Object(g.a)(i,2),o=r[0],l=r[1];return Object(n.jsxs)("div",{className:"messenger-container",children:[Object(n.jsxs)("div",{className:"messenger-header",children:[Object(n.jsx)("h3",{children:"Meeting details"}),Object(n.jsx)(j.a,{className:"icon",icon:d.o,onClick:function(){c(!1)}})]}),Object(n.jsxs)("div",{className:"messenger-header-tabs",children:[Object(n.jsxs)("div",{className:"tab",children:[Object(n.jsx)(j.a,{className:"icon",icon:d.r}),Object(n.jsx)("p",{children:"People (1)"})]}),Object(n.jsxs)("div",{className:"tab active",children:[Object(n.jsx)(j.a,{className:"icon",icon:d.d}),Object(n.jsx)("p",{children:"Chat"})]})]}),Object(n.jsx)("div",{className:"chat-section",children:a.map((function(e){return Object(n.jsxs)("div",{className:"chat-block",children:[Object(n.jsxs)("div",{className:"sender",children:[e.user," ",Object(n.jsx)("small",{children:P(e.time)})]}),Object(n.jsx)("p",{className:"msg",children:e.msg})]},e.time)}))}),Object(n.jsxs)("div",{className:"send-msg-section",children:[Object(n.jsx)("input",{placeholder:"Send a message to everyone",value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&(t(o),l(""))}(e)}}),Object(n.jsx)(j.a,{className:"icon",icon:d.k,onClick:function(){t(o),l("")}})]})]})},L=t(42),E=function(e,c){var t=Object(L.a)(e);switch(c.type){case"addMessage":return[].concat(Object(L.a)(t),[c.payload]);default:return e}},V=(t(168),function(e){var c=e.messageAlert;return Object(n.jsxs)("div",{className:"message-alert-popup",children:[Object(n.jsxs)("div",{className:"alert-header",children:[Object(n.jsx)(j.a,{className:"icon",icon:d.d}),Object(n.jsx)("h3",{children:c.payload.user})]}),Object(n.jsx)("p",{className:"alert-msg",children:c.payload.msg})]})}),H=(t(169),function(e){var c=e.setMeetInfoPopup,t=e.url;return Object(n.jsxs)("div",{className:"meeting-info-block",children:[Object(n.jsxs)("div",{className:"meeting-header",children:[Object(n.jsx)("h3",{children:"Your meeting's ready"}),Object(n.jsx)(j.a,{className:"icon",icon:d.o,onClick:function(){c(!1)}})]}),Object(n.jsxs)("button",{className:"add-people-btn",children:[Object(n.jsx)(j.a,{className:"icon",icon:d.p}),"Add Others"]}),Object(n.jsx)("p",{className:"info-text",children:"Or share this meeting link with others you want in the meeting"}),Object(n.jsxs)("div",{className:"meet-link",children:[Object(n.jsx)("span",{children:t}),Object(n.jsx)(j.a,{className:"icon",icon:d.e,onClick:function(){return navigator.clipboard.writeText(t)}})]}),Object(n.jsxs)("div",{className:"permission-text",children:[Object(n.jsx)(j.a,{className:"icon red",icon:d.n}),Object(n.jsx)("p",{className:"small-text",children:"People who use this meeting link must get your permission before they can join."})]}),Object(n.jsx)("p",{className:"small-text",children:"Joined SHAH WEBINAR"})]})}),R=(t(170),function(e){var c=e.isPresenting,t=e.stopScreenShare,s=e.screenShare,a=e.isAudio,i=e.toggleAudio,r=e.disconnectCall;return Object(n.jsxs)("div",{className:"footer-item",children:[Object(n.jsx)("div",{className:"left-item",children:Object(n.jsxs)("div",{className:"icon-block",children:["Meeting details",Object(n.jsx)(j.a,{className:"icon",icon:d.a})]})}),Object(n.jsxs)("div",{className:"center-item",children:[Object(n.jsx)("div",{className:"icon-block ".concat(a?null:"red-bg"),onClick:function(){return i(!a)},children:Object(n.jsx)(j.a,{className:"icon",icon:a?d.i:d.j})}),Object(n.jsx)("div",{className:"icon-block",onClick:r,children:Object(n.jsx)(j.a,{className:"icon red",icon:d.l})}),Object(n.jsx)("div",{className:"icon-block",children:Object(n.jsx)(j.a,{className:"icon",icon:d.s})})]}),Object(n.jsxs)("div",{className:"right-item",children:[Object(n.jsxs)("div",{className:"icon-block",children:[Object(n.jsx)(j.a,{className:"icon red",icon:d.b}),Object(n.jsx)("p",{className:"title",children:"Turn on captions"})]}),c?Object(n.jsxs)("div",{className:"icon-block",onClick:t,children:[Object(n.jsx)(j.a,{className:"icon red",icon:d.f}),Object(n.jsx)("p",{className:"title",children:"Stop presenting"})]}):Object(n.jsxs)("div",{className:"icon-block",onClick:s,children:[Object(n.jsx)(j.a,{className:"icon red",icon:d.f}),Object(n.jsx)("p",{className:"title",children:"Present now"})]})]})]})}),F=(t(171),function(e){var c=e.isMessenger,t=e.setIsMessenger,a=e.messageAlert,i=e.setMessageAlert,r=null,o=Object(s.useState)((function(){return P()})),l=Object(g.a)(o,2),b=l[0],u=l[1];return Object(s.useEffect)((function(){return r=setInterval((function(){return u(P())}),1e3),function(){clearInterval(r)}}),[]),Object(n.jsxs)("div",{className:"frame-header",children:[Object(n.jsx)("div",{className:"header-items icon-block",children:Object(n.jsx)(j.a,{className:"icon",icon:d.r})}),Object(n.jsxs)("div",{className:"header-items icon-block",onClick:function(){t(!0),i({})},children:[Object(n.jsx)(j.a,{className:"icon",icon:d.d}),!c&&a.alert&&Object(n.jsx)("span",{className:"alert-circle-icon"})]}),Object(n.jsx)("div",{className:"header-items date-block",children:b}),Object(n.jsx)("div",{className:"header-items icon-block",children:Object(n.jsx)(j.a,{className:"icon profile",icon:d.q})})]})}),J=null,W=M.a.connect("http://localhost:4000"),B=[],U=function(){var e=Object(l.f)(),c=Object(l.g)().id,t="#init"==window.location.hash,a="".concat(window.location.origin).concat(window.location.pathname),i=null,r=Object(s.useReducer)(E,B),o=Object(g.a)(r,2),j=o[0],d=o[1],b=Object(s.useState)(),u=Object(g.a)(b,2),m=u[0],h=u[1],x=Object(s.useState)(),v=Object(g.a)(x,2),N=v[0],S=v[1],M=Object(s.useState)(!1),T=Object(g.a)(M,2),A=T[0],I=T[1],P=Object(s.useState)(!1),L=Object(g.a)(P,2),U=L[0],q=L[1],_=Object(s.useState)(!1),K=Object(g.a)(_,2),Y=K[0],z=K[1],G=Object(s.useState)({}),Q=Object(g.a)(G,2),X=Q[0],Z=Q[1],$=Object(s.useState)(!0),ee=Object(g.a)($,2),ce=ee[0],te=ee[1];Object(s.useEffect)((function(){t&&I(!0),se(),W.on("code",(function(e){J.signal(e)}))}),[]);var ne=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat(w).concat("/api/get-call-id","/").concat(c));case 2:(t=e.sent).code&&J.signal(t.code);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){h(e),J=new C.a({initiator:t,trickle:!1,stream:e}),t||ne(),J.on("signal",function(){var e=Object(f.a)(p.a.mark((function e(n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return s={id:c,signalData:n},e.next=4,k("".concat(w).concat("/api/save-call-id"),s);case 4:e.next=7;break;case 6:W.emit("code",n,(function(e){console.log("code sent")}));case 7:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}()),J.on("connect",(function(){})),J.on("data",(function(e){clearTimeout(i),d({type:"addMessage",payload:{user:"other",msg:e.toString(),time:Date.now()}}),Z({alert:!0,isPopup:!0,payload:{user:"other",msg:e.toString()}}),i=setTimeout((function(){Z(Object(O.a)(Object(O.a)({},X),{},{isPopup:!1,payload:{}}))}),1e4)})),J.on("stream",(function(e){var c=document.querySelector("video");"srcObject"in c?c.srcObject=e:c.src=window.URL.createObjectURL(e),c.play()}))})).catch((function(){}))};return Object(n.jsxs)("div",{className:"callpage-container",children:[Object(n.jsx)("video",{className:"video-container",src:"",controls:!0}),Object(n.jsx)(F,{isMessenger:Y,setIsMessenger:z,messageAlert:X,setMessageAlert:Z}),Object(n.jsx)(R,{isPresenting:U,stopScreenShare:function(){N.getVideoTracks().forEach((function(e){e.stop()})),J.replaceTrack(N.getVideoTracks()[0],m.getVideoTracks()[0],m),q(!1)},screenShare:function(){navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){J.replaceTrack(m.getVideoTracks()[0],e.getVideoTracks()[0],m),S(e),e.getTracks()[0].onended=function(){J.replaceTrack(e.getVideoTracks()[0],m.getVideoTracks()[0],m)},q(!0)}))},isAudio:ce,toggleAudio:function(e){m.getAudioTracks()[0].enabled=e,te(e)},disconnectCall:function(){J.destroy(),e.push("/"),window.location.reload()}}),t&&A&&Object(n.jsx)(H,{setMeetInfoPopup:I,url:a}),Y?Object(n.jsx)(D,{setIsMessenger:z,sendMsg:function(e){J.send(e),d({type:"addMessage",payload:{user:"you",msg:e,time:Date.now()}})},messageList:j}):X.isPopup&&Object(n.jsx)(V,{messageAlert:X})]})},q=(t(172),function(){return Object(n.jsxs)("div",{className:"no-match",children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"no-match__content",children:[Object(n.jsx)("h2",{children:"Invalid video call name."}),Object(n.jsx)("div",{className:"action-btn",children:Object(n.jsx)(o.b,{className:"btn green",to:"/",children:"Return to home screen"})})]})]})});var _=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/:id",children:Object(n.jsx)(U,{})}),Object(n.jsx)(l.a,{exact:!0,path:"/",children:Object(n.jsx)(h,{})}),Object(n.jsx)(l.a,{path:"*",children:Object(n.jsx)(q,{})})]})})},K=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,174)).then((function(c){var t=c.getCLS,n=c.getFID,s=c.getFCP,a=c.getLCP,i=c.getTTFB;t(e),n(e),s(e),a(e),i(e)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),K()},89:function(e,c,t){},90:function(e,c,t){}},[[173,1,2]]]);
//# sourceMappingURL=main.b9a5c83e.chunk.js.map